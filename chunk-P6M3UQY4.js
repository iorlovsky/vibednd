import{a as pe,b as Ot,c as Me,e as Dn,g as z,i as ee,j as Vn,k as qe,m as We,n as fe,p as Ke,q as Mn,r as An}from"./chunk-MODT7RJH.js";import{c as yn,d as wt,f as Et,g as St,h as It}from"./chunk-TBYF2LDC.js";import{a as xn,b as Fn,d as te,f as Fe}from"./chunk-4WIWGISG.js";import{L as _n,T as bn,V as Cn,W as Ue,X as xe,a as At,b as gn,e as mn,g as ue,h as H,ia as ze,ja as U,u as $e,v as vn}from"./chunk-RB4FVMQ3.js";import{$ as tn,$b as u,Ab as l,Ac as x,B as Xt,Bb as h,Bc as Ge,Cb as d,Db as T,Ea as Be,Eb as D,Fa as g,Fb as V,Gb as He,Ha as Ct,Hb as Vt,I as Jt,Ib as Mt,Jb as Ve,Kb as K,Mb as _,N as bt,Nb as c,Ob as le,Pb as de,Qb as Q,Sb as Z,Tb as Y,Ub as rn,Va as s,Vb as an,Wb as sn,X as en,Xb as ln,Yb as xt,Za as Dt,_a as y,_b as C,a as F,aa as nn,ac as $,b as N,bc as je,cc as dn,da as Le,dc as M,fa as S,fc as X,ga as L,gb as v,gc as cn,ha as j,hb as G,ib as A,j as Qt,ja as ae,jb as f,jc as un,kb as Re,la as m,lb as B,nb as k,nc as ie,oc as b,p as Zt,pc as pn,ra as q,rb as on,rc as J,sa as W,sc as p,ta as se,tc as fn,uc as Ft,v as Yt,vb as I,wa as yt,wb as w,wc as hn,xb as E,yb as Ce,za as R,zb as De}from"./chunk-PP37AZUX.js";var _i=["data-p-icon","chevron-down"],wn=(()=>{class t extends qe{static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["","data-p-icon","chevron-down"]],features:[f],attrs:_i,decls:1,vars:0,consts:[["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,o){i&1&&(se(),He(0,"path",0))},encapsulation:2})}return t})();var bi=["data-p-icon","chevron-up"],En=(()=>{class t extends qe{static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["","data-p-icon","chevron-up"]],features:[f],attrs:bi,decls:1,vars:0,consts:[["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,o){i&1&&(se(),He(0,"path",0))},encapsulation:2})}return t})();var Qe=class t{currentLanguage=p.required();languageChange=J();DndLocales=bn;menuItems=[{label:"English",icon:"pi pi-flag",command:()=>this.languageChange.emit("en")},{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",icon:"pi pi-flag",command:()=>this.languageChange.emit("ru")}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-language-switch"]],inputs:{currentLanguage:[1,"currentLanguage"]},outputs:{languageChange:"languageChange"},decls:4,vars:4,consts:[["menu",""],[1,"language-switch"],["icon","pi pi-globe","severity","secondary",1,"language-switch__trigger",3,"click","label","text"],[3,"model","popup"]],template:function(e,i){if(e&1){let o=K();h(0,"div",1)(1,"p-button",2),_("click",function(a){q(o);let P=sn(3);return W(P.toggle(a))}),d(),T(2,"p-menu",3,0),d()}e&2&&(s(),l("label",i.currentLanguage()===i.DndLocales.EN?"EN":"RU")("text",!0),s(),l("model",i.menuItems)("popup",!0))},dependencies:[An,fe],styles:[".language-switch[_ngcontent-%COMP%]{display:flex;align-items:center}.language-switch__trigger[_ngcontent-%COMP%]{min-width:60px}"],changeDetection:0})};var Sn=`
    .p-accordionpanel {
        display: flex;
        flex-direction: column;
        border-style: solid;
        border-width: dt('accordion.panel.border.width');
        border-color: dt('accordion.panel.border.color');
    }

    .p-accordionheader {
        all: unset;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('accordion.header.padding');
        color: dt('accordion.header.color');
        background: dt('accordion.header.background');
        border-style: solid;
        border-width: dt('accordion.header.border.width');
        border-color: dt('accordion.header.border.color');
        font-weight: dt('accordion.header.font.weight');
        border-radius: dt('accordion.header.border.radius');
        transition:
            background dt('accordion.transition.duration'),
            color dt('accordion.transition.duration'),
            outline-color dt('accordion.transition.duration'),
            box-shadow dt('accordion.transition.duration');
        outline-color: transparent;
    }

    .p-accordionpanel:first-child > .p-accordionheader {
        border-width: dt('accordion.header.first.border.width');
        border-start-start-radius: dt('accordion.header.first.top.border.radius');
        border-start-end-radius: dt('accordion.header.first.top.border.radius');
    }

    .p-accordionpanel:last-child > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.bottom.border.radius');
    }

    .p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.active.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.active.bottom.border.radius');
    }

    .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.color');
    }

    .p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
        box-shadow: dt('accordion.header.focus.ring.shadow');
        outline: dt('accordion.header.focus.ring.width') dt('accordion.header.focus.ring.style') dt('accordion.header.focus.ring.color');
        outline-offset: dt('accordion.header.focus.ring.offset');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
        background: dt('accordion.header.hover.background');
        color: dt('accordion.header.hover.color');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
        background: dt('accordion.header.active.background');
        color: dt('accordion.header.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
        background: dt('accordion.header.active.hover.background');
        color: dt('accordion.header.active.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.hover.color');
    }

    .p-accordioncontent-content {
        border-style: solid;
        border-width: dt('accordion.content.border.width');
        border-color: dt('accordion.content.border.color');
        background-color: dt('accordion.content.background');
        color: dt('accordion.content.color');
        padding: dt('accordion.content.padding');
    }
`;var Ze=["*"],Ci=["toggleicon"],Di=t=>({active:t});function Vi(t,n){}function Mi(t,n){t&1&&B(0,Vi,0,0,"ng-template")}function xi(t,n){if(t&1&&B(0,Mi,1,0,null,0),t&2){let e=c();l("ngTemplateOutlet",e.toggleicon)("ngTemplateOutletContext",X(2,Di,e.active()))}}function Fi(t,n){if(t&1&&T(0,"span",4),t&2){let e=c(3);C(e.pcAccordion.collapseIcon),l("ngClass",e.pcAccordion.iconClass),I("aria-hidden",!0)}}function Ai(t,n){if(t&1&&(se(),T(0,"svg",5)),t&2){let e=c(3);C(e.pcAccordion.iconClass),I("aria-hidden",!0)}}function wi(t,n){if(t&1&&(Vt(0),B(1,Fi,1,4,"span",2)(2,Ai,1,3,"svg",3),Mt()),t&2){let e=c(2);s(),l("ngIf",e.pcAccordion.collapseIcon),s(),l("ngIf",!e.pcAccordion.collapseIcon)}}function Ei(t,n){if(t&1&&T(0,"span",4),t&2){let e=c(3);C(e.pcAccordion.expandIcon),l("ngClass",e.pcAccordion.iconClass),I("aria-hidden",!0)}}function Si(t,n){if(t&1&&(se(),T(0,"svg",7)),t&2){let e=c(3);C(e.pcAccordion.iconClass),I("aria-hidden",!0)}}function Ii(t,n){if(t&1&&(Vt(0),B(1,Ei,1,4,"span",2)(2,Si,1,3,"svg",6),Mt()),t&2){let e=c(2);s(),l("ngIf",e.pcAccordion.expandIcon),s(),l("ngIf",!e.pcAccordion.expandIcon)}}function Oi(t,n){if(t&1&&B(0,wi,3,2,"ng-container",1)(1,Ii,3,2,"ng-container",1),t&2){let e=c();l("ngIf",e.active()),s(),l("ngIf",!e.active())}}var In=t=>({transitionParams:t}),Ni=t=>({value:"visible",params:t}),ki=t=>({value:"hidden",params:t}),Ti=`
    ${Sn}

    /*For PrimeNG*/
    .p-accordionpanel:not(.p-accordionpanel-active) > .p-accordioncontent,
    .p-accordioncontent-content.ng-animating {
        overflow: hidden;
    }

    .p-accordionheader-toggle-icon.icon-start {
        order: -1;
    }

    .p-accordionheader:has(.p-accordionheader-toggle-icon.icon-start) {
        justify-content: flex-start;
        gap: dt('accordion.header.padding');
    }

    .p-accordioncontent.ng-animating {
        overflow: hidden;
    }
`,Pi={root:"p-accordion p-component",panel:({instance:t})=>["p-accordionpanel",{"p-accordionpanel-active":t.active(),"p-disabled":t.disabled()}],header:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon",contentContainer:"p-accordioncontent",content:"p-accordioncontent-content"},oe=(()=>{class t extends z{name="accordion";theme=Ti;classes=Pi;static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var we=(()=>{class t extends ee{pcAccordion=m(S(()=>he));value=Ft(void 0);disabled=p(!1,{transform:e=>Ke(e)});active=b(()=>this.pcAccordion.multiple()?this.valueEquals(this.pcAccordion.value(),this.value()):this.pcAccordion.value()===this.value());valueEquals(e,i){return Array.isArray(e)?e.includes(i):e===i}_componentStyle=m(oe);static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-accordion-panel"],["p-accordionpanel"]],hostVars:5,hostBindings:function(i,o){i&2&&(I("data-pc-name","accordionpanel")("data-p-disabled",o.disabled())("data-p-active",o.active()),C(o.cx("panel")))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[M([oe]),f],ngContentSelectors:Ze,decls:1,vars:0,template:function(i,o){i&1&&(le(),de(0))},dependencies:[H],encapsulation:2,changeDetection:0})}return t})(),Nt=(()=>{class t extends ee{pcAccordion=m(S(()=>he));pcAccordionPanel=m(S(()=>we));id=b(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);active=b(()=>this.pcAccordionPanel.active());disabled=b(()=>this.pcAccordionPanel.disabled());ariaControls=b(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);toggleicon;onClick(e){let i=this.active();this.changeActiveValue();let o=this.active(),r=this.pcAccordionPanel.value();!i&&o?this.pcAccordion.onOpen.emit({originalEvent:e,index:r}):i&&!o&&this.pcAccordion.onClose.emit({originalEvent:e,index:r})}onFocus(){this.pcAccordion.selectOnFocus()&&this.changeActiveValue()}onKeydown(e){switch(e.code){case"ArrowDown":this.arrowDownKey(e);break;case"ArrowUp":this.arrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnterKey(e);break;default:break}}_componentStyle=m(oe);changeActiveValue(){this.pcAccordion.updateValue(this.pcAccordionPanel.value())}findPanel(e){return e?.closest('[data-pc-name="accordionpanel"]')}findHeader(e){return pe(e,'[data-pc-name="accordionheader"]')}findNextPanel(e,i=!1){let o=i?e:e.nextElementSibling;return o?Me(o,"data-p-disabled")?this.findNextPanel(o):this.findHeader(o):null}findPrevPanel(e,i=!1){let o=i?e:e.previousElementSibling;return o?Me(o,"data-p-disabled")?this.findPrevPanel(o):this.findHeader(o):null}findFirstPanel(){return this.findNextPanel(this.pcAccordion.el.nativeElement.firstElementChild,!0)}findLastPanel(){return this.findPrevPanel(this.pcAccordion.el.nativeElement.lastElementChild,!0)}changeFocusedPanel(e,i){Ot(i)}arrowDownKey(e){let i=this.findNextPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onHomeKey(e),e.preventDefault()}arrowUpKey(e){let i=this.findPrevPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let i=this.findFirstPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEndKey(e){let i=this.findLastPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEnterKey(e){this.changeActiveValue(),e.preventDefault()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-accordion-header"],["p-accordionheader"]],contentQueries:function(i,o,r){if(i&1&&Q(r,Ci,5),i&2){let a;Z(a=Y())&&(o.toggleicon=a.first)}},hostVars:13,hostBindings:function(i,o){i&1&&_("click",function(a){return o.onClick(a)})("focus",function(a){return o.onFocus(a)})("keydown",function(a){return o.onKeydown(a)}),i&2&&(I("id",o.id())("aria-expanded",o.active())("aria-controls",o.ariaControls())("aria-disabled",o.disabled())("role","button")("tabindex",o.disabled()?"-1":"0")("data-p-active",o.active())("data-p-disabled",o.disabled())("data-pc-name","accordionheader"),C(o.cx("header")),ln("user-select","none"))},features:[M([oe]),Re([We]),f],ngContentSelectors:Ze,decls:3,vars:1,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"class","ngClass",4,"ngIf"],["data-p-icon","chevron-up",3,"class",4,"ngIf"],[3,"ngClass"],["data-p-icon","chevron-up"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-down"]],template:function(i,o){i&1&&(le(),de(0),w(1,xi,1,4)(2,Oi,2,2)),i&2&&(s(),E(o.toggleicon?1:2))},dependencies:[H,gn,mn,ue,wn,En],encapsulation:2,changeDetection:0})}return t})(),kt=(()=>{class t extends ee{pcAccordion=m(S(()=>he));pcAccordionPanel=m(S(()=>we));active=b(()=>this.pcAccordionPanel.active());ariaLabelledby=b(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);id=b(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);_componentStyle=m(oe);static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-accordion-content"],["p-accordioncontent"]],hostVars:7,hostBindings:function(i,o){i&2&&(I("id",o.id())("role","region")("data-pc-name","accordioncontent")("data-p-active",o.active())("aria-labelledby",o.ariaLabelledby()),C(o.cx("contentContainer")))},features:[M([oe]),f],ngContentSelectors:Ze,decls:2,vars:11,template:function(i,o){i&1&&(le(),h(0,"div"),de(1),d()),i&2&&(C(o.cx("content")),l("@content",o.active()?X(5,Ni,X(3,In,o.pcAccordion.transitionOptions)):X(9,ki,X(7,In,o.pcAccordion.transitionOptions))))},dependencies:[H],encapsulation:2,data:{animation:[yn("content",[St("hidden",Et({height:"0",paddingBlock:"0",borderBlockWidth:"0",visibility:"hidden"})),St("visible",Et({height:"*"})),It("visible <=> hidden",[wt("{{transitionParams}}")]),It("void => *",wt(0))])]},changeDetection:0})}return t})(),he=(()=>{class t extends ee{value=Ft(void 0);multiple=p(!1,{transform:e=>Ke(e)});styleClass;expandIcon;collapseIcon;selectOnFocus=p(!1,{transform:e=>Ke(e)});transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";onClose=new k;onOpen=new k;id=R(Dn("pn_id_"));_componentStyle=m(oe);onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}onTabArrowDownKey(e){let i=this.findNextHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabHomeKey(e),e.preventDefault()}onTabArrowUpKey(e){let i=this.findPrevHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabEndKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction();this.changeFocusedTab(i),e.preventDefault()}changeFocusedTab(e){e&&Ot(e)}findNextHeaderAction(e,i=!1){let o=i?e:e.nextElementSibling,r=pe(o,'[data-pc-section="accordionheader"]');return r?Me(r,"data-p-disabled")?this.findNextHeaderAction(r.parentElement):pe(r.parentElement,'[data-pc-section="accordionheader"]'):null}findPrevHeaderAction(e,i=!1){let o=i?e:e.previousElementSibling,r=pe(o,'[data-pc-section="accordionheader"]');return r?Me(r,"data-p-disabled")?this.findPrevHeaderAction(r.parentElement):pe(r.parentElement,'[data-pc-section="accordionheader"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.lastElementChild;return this.findPrevHeaderAction(e,!0)}onTabEndKey(e){let i=this.findLastHeaderAction();this.changeFocusedTab(i),e.preventDefault()}getBlockableElement(){return this.el.nativeElement.children[0]}updateValue(e){let i=this.value();if(this.multiple()){let o=Array.isArray(i)?[...i]:[],r=o.indexOf(e);r!==-1?o.splice(r,1):o.push(e),this.value.set(o)}else i===e?this.value.set(void 0):this.value.set(e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-accordion"]],hostVars:2,hostBindings:function(i,o){i&1&&_("keydown",function(a){return o.onKeydown(a)}),i&2&&C(o.cn(o.cx("root"),o.styleClass))},inputs:{value:[1,"value"],multiple:[1,"multiple"],styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",selectOnFocus:[1,"selectOnFocus"],transitionOptions:"transitionOptions"},outputs:{value:"valueChange",onClose:"onClose",onOpen:"onOpen"},features:[M([oe]),f],ngContentSelectors:Ze,decls:1,vars:0,template:function(i,o){i&1&&(le(),de(0))},dependencies:[H,U],encapsulation:2,changeDetection:0})}return t})(),Nn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({imports:[he,U,we,Nt,kt,U]})}return t})();function Bi(t,n){if(t&1&&(D(0,"div",0)(1,"div",1)(2,"div",8)(3,"span",3),u(4,"Materials:"),V(),D(5,"span",4),u(6),V()()()()),t&2){let e=c();s(6),$(e.spell().materials)}}function Ri(t,n){t&1&&(D(0,"span",7),u(1,"Ritual"),V())}function Hi(t,n){if(t&1&&(D(0,"span",7),u(1),V()),t&2){let e=c();s(),je("Level ",e.spell().level)}}function ji(t,n){if(t&1&&(D(0,"span",7),u(1),V()),t&2){let e=c();s(),$(e.spell().school)}}function Gi(t,n){if(t&1&&(D(0,"span",7),u(1),V()),t&2){let e=c();s(),je("(",e.spell().source,")")}}var Ye=class t{spell=p.required();language=p.required();hasLevel=b(()=>!!this.spell().level&&this.spell().level!=="0");static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-spell-card"]],inputs:{spell:[1,"spell"],language:[1,"language"]},decls:36,vars:10,consts:[[1,"spell-card__row"],[1,"spell-card__col"],[1,"spell-card__name"],[1,"spell-card__label"],[1,"spell-card__value"],[1,"spell-card__text"],[1,"spell-card__footer"],[1,"spell-card__tag"],[1,"spell-card__materials"]],template:function(e,i){e&1&&(D(0,"div",0)(1,"div",1)(2,"h3",2),u(3),V()()(),D(4,"div",0)(5,"div",1)(6,"span",3),u(7,"Casting Time:"),V(),D(8,"span",4),u(9),V()(),D(10,"div",1)(11,"span",3),u(12,"Range:"),V(),D(13,"span",4),u(14),V()()(),D(15,"div",0)(16,"div",1)(17,"span",3),u(18,"Components:"),V(),D(19,"span",4),u(20),V()(),D(21,"div",1)(22,"span",3),u(23,"Duration:"),V(),D(24,"span",4),u(25),V()()(),w(26,Bi,7,1,"div",0),D(27,"div",0)(28,"div",1)(29,"div",5),u(30),V()()(),D(31,"div",6),w(32,Ri,2,0,"span",7)(33,Hi,2,1,"span",7),w(34,ji,2,1,"span",7),w(35,Gi,2,1,"span",7),V()),e&2&&(s(3),$(i.spell().name[i.language()]),s(6),$(i.spell().castingTime),s(5),$(i.spell().range),s(6),$(i.spell().components),s(5),$(i.spell().duration),s(),E(i.spell().materials?26:-1),s(4),je(" ",i.spell().text[i.language()]," "),s(2),E(i.spell().ritual?32:i.hasLevel()?33:-1),s(2),E(i.spell().school?34:-1),s(),E(i.spell().source?35:-1))},styles:["[_nghost-%COMP%]{border:9px solid var(--dnd-card-border-color);border-bottom-width:1px;background-color:var(--dnd-card-background-color);border-radius:8px;display:block;height:min-content}.spell-card__name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;text-align:center;width:100%}.spell-card__row[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid var(--dnd-card-border-color)}.spell-card__col[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px;padding:4px}.spell-card__col[_ngcontent-%COMP%]:first-child:not(:last-child){border-right:2px solid var(--dnd-card-border-color)}.spell-card__label[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem;color:var(--dnd-card-text-secondary-color)}.spell-card__value[_ngcontent-%COMP%]{font-size:.875rem}.spell-card__materials[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.spell-card__text[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto;margin-bottom:12px;font-size:.875rem;line-height:1.4;padding-right:4px}.spell-card__footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;background-color:var(--dnd-card-border-color);justify-content:flex-end}.spell-card__tag[_ngcontent-%COMP%]{color:var(--dnd-card-text-secondary-color);font-size:.75rem;font-weight:600}"],changeDetection:0})};var $i=(t,n)=>n.level,Ui=(t,n)=>n.name.en;function zi(t,n){if(t&1){let e=K();h(0,"dnd-spell-card",6),_("click",function(){let o=q(e).$implicit,r=c(2);return W(r.spellClick.emit(o))}),d()}if(t&2){let e=n.$implicit,i=c(2);l("spell",e)("language",i.language())}}function qi(t,n){if(t&1&&(h(0,"p-accordion-panel",2)(1,"p-accordion-header")(2,"span",3),u(3),d()(),h(4,"p-accordion-content")(5,"div",4),Ce(6,zi,1,2,"dnd-spell-card",5,Ui),d()()()),t&2){let e=n.$implicit;l("value",e.level),s(3),dn(" ",e.level," (",e.spells.length,") "),s(3),De(e.spells)}}var Xe=class t{spells=p();language=p.required();spellClick=J();spellsByLevel=b(()=>{let n=this.spells()||[],e=new Map,i="Cantrips";for(let r of n){let a;!r.level||r.level===0||r.level==="0"?a=i:a=`Level ${r.level}`,e.has(a)||e.set(a,[]),e.get(a).push(r)}let o=Array.from(e.entries()).map(([r,a])=>({level:r,spells:a}));return o.sort((r,a)=>{if(r.level===i)return-1;if(a.level===i)return 1;let P=parseInt(r.level.replace("Level ","")),ye=parseInt(a.level.replace("Level ",""));return P-ye}),o});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-spell-list"]],inputs:{spells:[1,"spells"],language:[1,"language"]},outputs:{spellClick:"spellClick"},decls:4,vars:1,consts:[[1,"spell-list"],[3,"multiple"],[3,"value"],[1,"spell-list__level-title"],[1,"spell-list__cards"],["role","button",1,"spell-list__card",3,"spell","language"],["role","button",1,"spell-list__card",3,"click","spell","language"]],template:function(e,i){e&1&&(h(0,"section",0)(1,"p-accordion",1),Ce(2,qi,8,3,"p-accordion-panel",2,$i),d()()),e&2&&(s(),l("multiple",!0),s(),De(i.spellsByLevel()))},dependencies:[Nn,he,we,Nt,kt,Ye],styles:[".spell-list[_ngcontent-%COMP%]{width:100%}.spell-list__level-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--text-color)}.spell-list__cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.spell-list__card[_ngcontent-%COMP%]{width:240px;transition:.2s;cursor:pointer}.spell-list__card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 10px 1px var(--dnd-card-shadow-color-hover)}"],changeDetection:0})};var kn=`
    .p-floatlabel {
        display: block;
        position: relative;
    }

    .p-floatlabel label {
        position: absolute;
        pointer-events: none;
        top: 50%;
        transform: translateY(-50%);
        transition-property: all;
        transition-timing-function: ease;
        line-height: 1;
        font-weight: dt('floatlabel.font.weight');
        inset-inline-start: dt('floatlabel.position.x');
        color: dt('floatlabel.color');
        transition-duration: dt('floatlabel.transition.duration');
    }

    .p-floatlabel:has(.p-textarea) label {
        top: dt('floatlabel.position.y');
        transform: translateY(0);
    }

    .p-floatlabel:has(.p-inputicon:first-child) label {
        inset-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label,
    .p-floatlabel:has(input[placeholder]) label,
    .p-floatlabel:has(textarea[placeholder]) label {
        top: dt('floatlabel.over.active.top');
        transform: translateY(0);
        font-size: dt('floatlabel.active.font.size');
        font-weight: dt('floatlabel.active.font.weight');
    }

    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label {
        color: dt('floatlabel.active.color');
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label {
        color: dt('floatlabel.focus.color');
    }

    .p-floatlabel-in .p-inputtext,
    .p-floatlabel-in .p-textarea,
    .p-floatlabel-in .p-select-label,
    .p-floatlabel-in .p-multiselect-label,
    .p-floatlabel-in .p-autocomplete-input-multiple,
    .p-floatlabel-in .p-cascadeselect-label,
    .p-floatlabel-in .p-treeselect-label {
        padding-block-start: dt('floatlabel.in.input.padding.top');
        padding-block-end: dt('floatlabel.in.input.padding.bottom');
    }

    .p-floatlabel-in:has(input:focus) label,
    .p-floatlabel-in:has(input.p-filled) label,
    .p-floatlabel-in:has(input:-webkit-autofill) label,
    .p-floatlabel-in:has(textarea:focus) label,
    .p-floatlabel-in:has(textarea.p-filled) label,
    .p-floatlabel-in:has(.p-inputwrapper-focus) label,
    .p-floatlabel-in:has(.p-inputwrapper-filled) label,
    .p-floatlabel-in:has(input[placeholder]) label,
    .p-floatlabel-in:has(textarea[placeholder]) label {
        top: dt('floatlabel.in.active.top');
    }

    .p-floatlabel-on:has(input:focus) label,
    .p-floatlabel-on:has(input.p-filled) label,
    .p-floatlabel-on:has(input:-webkit-autofill) label,
    .p-floatlabel-on:has(textarea:focus) label,
    .p-floatlabel-on:has(textarea.p-filled) label,
    .p-floatlabel-on:has(.p-inputwrapper-focus) label,
    .p-floatlabel-on:has(.p-inputwrapper-filled) label,
    .p-floatlabel-on:has(input[placeholder]) label,
    .p-floatlabel-on:has(textarea[placeholder]) label {
        top: 0;
        transform: translateY(-50%);
        border-radius: dt('floatlabel.on.border.radius');
        background: dt('floatlabel.on.active.background');
        padding: dt('floatlabel.on.active.padding');
    }

    .p-floatlabel:has([class^='p-'][class$='-fluid']) {
        width: 100%;
    }

    .p-floatlabel:has(.p-invalid) label {
        color: dt('floatlabel.invalid.color');
    }
`;var Wi=["*"],Ki=`
    ${kn}

    /* For PrimeNG */
    .p-floatlabel:has(.ng-invalid.ng-dirty) label {
        color: dt('floatlabel.invalid.color');
    }
`,Qi={root:({instance:t})=>["p-floatlabel",{"p-floatlabel-over":t.variant==="over","p-floatlabel-on":t.variant==="on","p-floatlabel-in":t.variant==="in"}]},Tn=(()=>{class t extends z{name="floatlabel";theme=Ki;classes=Qi;static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var Pn=(()=>{class t extends ee{_componentStyle=m(Tn);variant="over";static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:2,hostBindings:function(i,o){i&2&&C(o.cx("root"))},inputs:{variant:"variant"},features:[M([Tn]),f],ngContentSelectors:Wi,decls:1,vars:0,template:function(i,o){i&1&&(le(),de(0))},dependencies:[H,U],encapsulation:2,changeDetection:0})}return t})();var Un=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(y(Dt),y(Ct))};static \u0275dir=A({type:t})}return t})(),Zi=(()=>{class t extends Un{static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275dir=A({type:t,features:[f]})}return t})(),ce=new ae("");var Yi={provide:ce,useExisting:S(()=>dt),multi:!0};function Xi(){let t=At()?At().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Ji=new ae(""),dt=(()=>{class t extends Un{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Xi())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(y(Dt),y(Ct),y(Ji,8))};static \u0275dir=A({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&_("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[M([Yi]),f]})}return t})();var Ht=new ae(""),jt=new ae("");function zn(t){return t!=null}function qn(t){return on(t)?Zt(t):t}function Wn(t){let n={};return t.forEach(e=>{n=e!=null?F(F({},n),e):n}),Object.keys(n).length===0?null:n}function Kn(t,n){return n.map(e=>e(t))}function eo(t){return!t.validate}function Qn(t){return t.map(n=>eo(n)?n:e=>n.validate(e))}function to(t){if(!t)return null;let n=t.filter(zn);return n.length==0?null:function(e){return Wn(Kn(e,n))}}function Zn(t){return t!=null?to(Qn(t)):null}function no(t){if(!t)return null;let n=t.filter(zn);return n.length==0?null:function(e){let i=Kn(e,n).map(qn);return Xt(i).pipe(Yt(Wn))}}function Yn(t){return t!=null?no(Qn(t)):null}function Ln(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Xn(t){return t._rawValidators}function Jn(t){return t._rawAsyncValidators}function Tt(t){return t?Array.isArray(t)?t:[t]:[]}function et(t,n){return Array.isArray(t)?t.includes(n):t===n}function Bn(t,n){let e=Tt(n);return Tt(t).forEach(o=>{et(e,o)||e.push(o)}),e}function Rn(t,n){return Tt(n).filter(e=>!et(t,e))}var tt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Zn(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},ve=class extends tt{name;get formDirective(){return null}get path(){return null}},ne=class extends tt{_parent=null;name=null;valueAccessor=null},nt=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},io={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},va=N(F({},io),{"[class.ng-submitted]":"isSubmitted"}),be=(()=>{class t extends nt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(y(ne,2))};static \u0275dir=A({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[f]})}return t})(),ct=(()=>{class t extends nt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(y(ve,10))};static \u0275dir=A({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[f]})}return t})();var Ee="VALID",Je="INVALID",ge="PENDING",Se="DISABLED",re=class{},it=class extends re{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Ie=class extends re{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Oe=class extends re{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},me=class extends re{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Pt=class extends re{source;constructor(n){super(),this.source=n}},Lt=class extends re{source;constructor(n){super(),this.source=n}};function Gt(t){return(ut(t)?t.validators:t)||null}function oo(t){return Array.isArray(t)?Zn(t):t||null}function $t(t,n){return(ut(n)?n.asyncValidators:t)||null}function ro(t){return Array.isArray(t)?Yn(t):t||null}function ut(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ei(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new Le(1e3,"");if(!i[e])throw new Le(1001,"")}function ti(t,n,e){t._forEachChild((i,o)=>{if(e[o]===void 0)throw new Le(1002,"")})}var _e=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ie(this.statusReactive)}set status(n){ie(()=>this.statusReactive.set(n))}_status=b(()=>this.statusReactive());statusReactive=R(void 0);get valid(){return this.status===Ee}get invalid(){return this.status===Je}get pending(){return this.status==ge}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}errors;get pristine(){return ie(this.pristineReactive)}set pristine(n){ie(()=>this.pristineReactive.set(n))}_pristine=b(()=>this.pristineReactive());pristineReactive=R(!0);get dirty(){return!this.pristine}get touched(){return ie(this.touchedReactive)}set touched(n){ie(()=>this.touchedReactive.set(n))}_touched=b(()=>this.touchedReactive());touchedReactive=R(!1);get untouched(){return!this.touched}_events=new Qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Bn(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Bn(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Rn(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Rn(n,this._rawAsyncValidators))}hasValidator(n){return et(this._rawValidators,n)}hasAsyncValidator(n){return et(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(N(F({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Oe(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new Oe(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(N(F({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Ie(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new Ie(!0,i))}markAsPending(n={}){this.status=ge;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new me(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(N(F({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Se,this.errors=null,this._forEachChild(o=>{o.disable(N(F({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new it(this.value,i)),this._events.next(new me(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(F({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ee,this._forEachChild(i=>{i.enable(N(F({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(N(F({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ee||this.status===ge)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new it(this.value,e)),this._events.next(new me(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(N(F({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:Ee}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=ge,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let i=qn(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new me(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new k,this.statusChanges=new k}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ge)?ge:this._anyControlsHaveStatus(Je)?Je:Ee}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new Ie(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Oe(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ut(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=oo(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ro(this._rawAsyncValidators)}},ot=class extends _e{constructor(n,e,i){super(Gt(e),$t(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){ti(this,!0,n),Object.keys(n).forEach(i=>{ei(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Bt=class extends ot{};var ke=new ae("",{providedIn:"root",factory:()=>pt}),pt="always";function ao(t,n){return[...n.path,t]}function rt(t,n,e=pt){Ut(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),lo(t,n),uo(t,n),co(t,n),so(t,n)}function at(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),lt(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function st(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function so(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Ut(t,n){let e=Xn(t);n.validator!==null?t.setValidators(Ln(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=Jn(t);n.asyncValidator!==null?t.setAsyncValidators(Ln(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let o=()=>t.updateValueAndValidity();st(n._rawValidators,o),st(n._rawAsyncValidators,o)}function lt(t,n){let e=!1;if(t!==null){if(n.validator!==null){let o=Xn(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==n.validator);r.length!==o.length&&(e=!0,t.setValidators(r))}}if(n.asyncValidator!==null){let o=Jn(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==n.asyncValidator);r.length!==o.length&&(e=!0,t.setAsyncValidators(r))}}}let i=()=>{};return st(n._rawValidators,i),st(n._rawAsyncValidators,i),e}function lo(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ni(t,n)})}function co(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ni(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function ni(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uo(t,n){let e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function po(t,n){t==null,Ut(t,n)}function fo(t,n){return lt(t,n)}function ii(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function ho(t){return Object.getPrototypeOf(t.constructor)===Zi}function go(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oi(t,n){if(!n)return null;Array.isArray(n);let e,i,o;return n.forEach(r=>{r.constructor===dt?e=r:ho(r)?i=r:o=r}),o||i||e||null}function mo(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Hn(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function jn(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ne=class extends _e{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(Gt(e),$t(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ut(e)&&(e.nonNullable||e.initialValueIsDefault)&&(jn(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Hn(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Hn(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){jn(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var vo=t=>t instanceof Ne;var _o={provide:ne,useExisting:S(()=>zt)},Gn=Promise.resolve(),zt=(()=>{class t extends ne{_changeDetectorRef;callSetDisabledState;control=new Ne;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new k;constructor(e,i,o,r,a,P){super(),this._changeDetectorRef=a,this.callSetDisabledState=P,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oi(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ii(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Gn.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&x(i);Gn.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ao(e,this._parent):[e]}static \u0275fac=function(i){return new(i||t)(y(ve,9),y(Ht,10),y(jt,10),y(ce,10),y(hn,8),y(ke,8))};static \u0275dir=A({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[M([_o]),f,Be]})}return t})();var ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=A({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var ri=new ae(""),bo={provide:ne,useExisting:S(()=>Te)},Te=(()=>{class t extends ne{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new k;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,a){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=oi(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&at(i,this,!1),rt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ii(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&at(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||t)(y(Ht,10),y(jt,10),y(ce,10),y(ri,8),y(ke,8))};static \u0275dir=A({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[M([bo]),f,Be]})}return t})(),yo={provide:ve,useExisting:S(()=>Pe)},Pe=(()=>{class t extends ve{callSetDisabledState;get submitted(){return ie(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=b(()=>this._submittedReactive());_submittedReactive=R(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new k;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return rt(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){at(e.control||null,e,!1),mo(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),go(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Pt(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new Lt(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(at(i||null,e),vo(o)&&(rt(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);po(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&fo(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ut(this.form,this),this._oldForm&&lt(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(y(Ht,10),y(jt,10),y(ke,8))};static \u0275dir=A({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&_("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[M([yo]),f,Be]})}return t})();var ai=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({})}return t})(),Rt=class extends _e{constructor(n,e,i){super(Gt(e),$t(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){ti(this,!1,n),n.forEach((i,o)=>{ei(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function $n(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var si=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),r={};return $n(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new ot(o,r)}record(e,i=null){let o=this._reduceControls(e);return new Bt(o,i)}control(e,i,o){let r={};return this.useNonNullable?($n(i)?r=i:(r.validators=i,r.asyncValidators=o),new Ne(e,N(F({},r),{nonNullable:!0}))):new Ne(e,i,o)}array(e,i,o){let r=e.map(a=>this._createControl(a));return new Rt(r,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof Ne)return e;if(e instanceof _e)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(i,o,r)}else return this.control(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var li=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ke,useValue:e.callSetDisabledState??pt}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({imports:[ai]})}return t})(),ht=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ri,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ke,useValue:e.callSetDisabledState??pt}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({imports:[ai]})}return t})();var gt=(()=>{class t extends ee{modelValue=R(void 0);$filled=b(()=>Cn(this.modelValue()));writeModelValue(e){this.modelValue.set(e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275dir=A({type:t,features:[f]})}return t})();var di=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`;var Co=`
    ${di}

    /* For PrimeNG */
   .p-inputtext.ng-invalid.ng-dirty {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.ng-invalid.ng-dirty::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,Do={root:({instance:t})=>["p-inputtext p-component",{"p-filled":t.$filled(),"p-inputtext-sm":t.pSize==="small","p-inputtext-lg":t.pSize==="large","p-invalid":t.invalid(),"p-variant-filled":t.$variant()==="filled","p-inputtext-fluid":t.hasFluid}]},ci=(()=>{class t extends z{name="inputtext";theme=Co;classes=Do;static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var ui=(()=>{class t extends gt{ngControl=m(ne,{optional:!0,self:!0});pcFluid=m(Vn,{optional:!0,host:!0,skipSelf:!0});pSize;variant=p();fluid=p(void 0,{transform:x});invalid=p(void 0,{transform:x});$variant=b(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());_componentStyle=m(ci);ngAfterViewInit(){super.ngAfterViewInit(),this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value),this.cd.detectChanges()}ngDoCheck(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}get hasFluid(){return this.fluid()??!!this.pcFluid}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275dir=A({type:t,selectors:[["","pInputText",""]],hostVars:2,hostBindings:function(i,o){i&1&&_("input",function(a){return o.onInput(a)}),i&2&&C(o.cx("root"))},inputs:{pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},features:[M([ci]),f]})}return t})();var mt=(()=>{class t extends gt{required=p(void 0,{transform:x});invalid=p(void 0,{transform:x});disabled=p(void 0,{transform:x});name=p();_disabled=R(!1);$disabled=b(()=>this.disabled()||this._disabled());onModelChange=()=>{};onModelTouched=()=>{};writeDisabledState(e){this._disabled.set(e)}writeControlValue(e,i){}writeValue(e){this.writeControlValue(e,this.writeModelValue.bind(this))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.writeDisabledState(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275dir=A({type:t,inputs:{required:[1,"required"],invalid:[1,"invalid"],disabled:[1,"disabled"],name:[1,"name"]},features:[f]})}return t})();var pi=`
    .p-togglebutton {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        color: dt('togglebutton.color');
        background: dt('togglebutton.background');
        border: 1px solid dt('togglebutton.border.color');
        padding: dt('togglebutton.padding');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('togglebutton.transition.duration'),
            color dt('togglebutton.transition.duration'),
            border-color dt('togglebutton.transition.duration'),
            outline-color dt('togglebutton.transition.duration'),
            box-shadow dt('togglebutton.transition.duration');
        border-radius: dt('togglebutton.border.radius');
        outline-color: transparent;
        font-weight: dt('togglebutton.font.weight');
    }

    .p-togglebutton-content {
        display: inline-flex;
        flex: 1 1 auto;
        align-items: center;
        justify-content: center;
        gap: dt('togglebutton.gap');
        padding: dt('togglebutton.content.padding');
        background: transparent;
        border-radius: dt('togglebutton.content.border.radius');
        transition:
            background dt('togglebutton.transition.duration'),
            color dt('togglebutton.transition.duration'),
            border-color dt('togglebutton.transition.duration'),
            outline-color dt('togglebutton.transition.duration'),
            box-shadow dt('togglebutton.transition.duration');
    }

    .p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
        background: dt('togglebutton.hover.background');
        color: dt('togglebutton.hover.color');
    }

    .p-togglebutton.p-togglebutton-checked {
        background: dt('togglebutton.checked.background');
        border-color: dt('togglebutton.checked.border.color');
        color: dt('togglebutton.checked.color');
    }

    .p-togglebutton-checked .p-togglebutton-content {
        background: dt('togglebutton.content.checked.background');
        box-shadow: dt('togglebutton.content.checked.shadow');
    }

    .p-togglebutton:focus-visible {
        box-shadow: dt('togglebutton.focus.ring.shadow');
        outline: dt('togglebutton.focus.ring.width') dt('togglebutton.focus.ring.style') dt('togglebutton.focus.ring.color');
        outline-offset: dt('togglebutton.focus.ring.offset');
    }

    .p-togglebutton.p-invalid {
        border-color: dt('togglebutton.invalid.border.color');
    }

    .p-togglebutton:disabled {
        opacity: 1;
        cursor: default;
        background: dt('togglebutton.disabled.background');
        border-color: dt('togglebutton.disabled.border.color');
        color: dt('togglebutton.disabled.color');
    }

    .p-togglebutton-label,
    .p-togglebutton-icon {
        position: relative;
        transition: none;
    }

    .p-togglebutton-icon {
        color: dt('togglebutton.icon.color');
    }

    .p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
        color: dt('togglebutton.icon.hover.color');
    }

    .p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
        color: dt('togglebutton.icon.checked.color');
    }

    .p-togglebutton:disabled .p-togglebutton-icon {
        color: dt('togglebutton.icon.disabled.color');
    }

    .p-togglebutton-sm {
        padding: dt('togglebutton.sm.padding');
        font-size: dt('togglebutton.sm.font.size');
    }

    .p-togglebutton-sm .p-togglebutton-content {
        padding: dt('togglebutton.content.sm.padding');
    }

    .p-togglebutton-lg {
        padding: dt('togglebutton.lg.padding');
        font-size: dt('togglebutton.lg.font.size');
    }

    .p-togglebutton-lg .p-togglebutton-content {
        padding: dt('togglebutton.content.lg.padding');
    }

    .p-togglebutton-fluid {
        width: 100%;
    }
`;var Vo=["icon"],Mo=["content"],hi=t=>({$implicit:t});function xo(t,n){t&1&&Ve(0)}function Fo(t,n){if(t&1&&T(0,"span"),t&2){let e=c(3);C(e.cn(e.cx("icon"),e.checked?e.onIcon:e.offIcon,e.iconPos==="left"?e.cx("iconLeft"):e.cx("iconRight"))),I("data-pc-section","icon")}}function Ao(t,n){if(t&1&&w(0,Fo,1,3,"span",1),t&2){let e=c(2);E(e.onIcon||e.offIcon?0:-1)}}function wo(t,n){t&1&&Ve(0)}function Eo(t,n){if(t&1&&B(0,wo,1,0,"ng-container",0),t&2){let e=c(2);l("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",X(2,hi,e.checked))}}function So(t,n){if(t&1&&(w(0,Ao,1,1)(1,Eo,1,4,"ng-container"),h(2,"span"),u(3),d()),t&2){let e=c();E(e.iconTemplate?1:0),s(2),C(e.cx("label")),I("data-pc-section","label"),s(),$(e.checked?e.hasOnLabel?e.onLabel:"\xA0":e.hasOffLabel?e.offLabel:"\xA0")}}var Io=`
    ${pi}

    /* For PrimeNG (iconPos) */
    .p-togglebutton-icon-right {
        order: 1;
    }

    .p-togglebutton.ng-invalid.ng-dirty {
        border-color: dt('togglebutton.invalid.border.color');
    }
`,Oo={root:({instance:t})=>["p-togglebutton p-component",{"p-togglebutton-checked":t.checked,"p-invalid":t.invalid(),"p-disabled":t.$disabled(),"p-togglebutton-sm p-inputfield-sm":t.size==="small","p-togglebutton-lg p-inputfield-lg":t.size==="large","p-togglebutton-fluid":t.fluid()}],content:"p-togglebutton-content",icon:"p-togglebutton-icon",iconLeft:"p-togglebutton-icon-left",iconRight:"p-togglebutton-icon-right",label:"p-togglebutton-label"},fi=(()=>{class t extends z{name="togglebutton";theme=Io;classes=Oo;static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var No={provide:ce,useExisting:S(()=>Wt),multi:!0},Wt=(()=>{class t extends mt{onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}toggle(e){!this.$disabled()&&!(this.allowEmpty===!1&&this.checked)&&(this.checked=!this.checked,this.writeModelValue(this.checked),this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onLabel="Yes";offLabel="No";onIcon;offIcon;ariaLabel;ariaLabelledBy;styleClass;inputId;tabindex=0;iconPos="left";autofocus;size;allowEmpty;fluid=p(void 0,{transform:x});onChange=new k;iconTemplate;contentTemplate;templates;checked=!1;_componentStyle=m(fi);onBlur(){this.onModelTouched()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}get active(){return this.checked===!0}_iconTemplate;_contentTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}writeControlValue(e,i){this.checked=e,i(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-toggleButton"],["p-togglebutton"],["p-toggle-button"]],contentQueries:function(i,o,r){if(i&1&&(Q(r,Vo,4),Q(r,Mo,4),Q(r,ze,4)),i&2){let a;Z(a=Y())&&(o.iconTemplate=a.first),Z(a=Y())&&(o.contentTemplate=a.first),Z(a=Y())&&(o.templates=a)}},hostVars:6,hostBindings:function(i,o){i&1&&_("keydown",function(a){return o.onKeyDown(a)})("click",function(a){return o.toggle(a)}),i&2&&(I("aria-labelledby",o.ariaLabelledBy)("aria-pressed",o.checked)("role","button")("tabindex",o.$disabled()?-1:0),C(o.cn(o.cx("root"),o.styleClass)))},inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Ge],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",x],size:"size",allowEmpty:"allowEmpty",fluid:[1,"fluid"]},outputs:{onChange:"onChange"},features:[M([No,fi]),Re([We]),f],decls:3,vars:7,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class"]],template:function(i,o){i&1&&(h(0,"span"),B(1,xo,1,0,"ng-container",0),w(2,So,4,5),d()),i&2&&(C(o.cx("content")),s(),l("ngTemplateOutlet",o.contentTemplate||o._contentTemplate)("ngTemplateOutletContext",X(5,hi,o.checked)),s(),E(o.contentTemplate?-1:2))},dependencies:[H,ue,U],encapsulation:2,changeDetection:0})}return t})();var gi=`
    .p-selectbutton {
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
        outline-color: transparent;
        border-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton .p-togglebutton {
        border-radius: 0;
        border-width: 1px 1px 1px 0;
    }

    .p-selectbutton .p-togglebutton:focus-visible {
        position: relative;
        z-index: 1;
    }

    .p-selectbutton .p-togglebutton:first-child {
        border-inline-start-width: 1px;
        border-start-start-radius: dt('selectbutton.border.radius');
        border-end-start-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton .p-togglebutton:last-child {
        border-start-end-radius: dt('selectbutton.border.radius');
        border-end-end-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton.p-invalid {
        outline: 1px solid dt('selectbutton.invalid.border.color');
        outline-offset: 0;
    }

    .p-selectbutton-fluid {
        width: 100%;
    }
    
    .p-selectbutton-fluid .p-togglebutton {
        flex: 1 1 0;
    }
`;var ko=["item"],To=(t,n)=>({$implicit:t,index:n});function Po(t,n){return this.getOptionLabel(n)}function Lo(t,n){t&1&&Ve(0)}function Bo(t,n){if(t&1&&B(0,Lo,1,0,"ng-container",3),t&2){let e=c(2),i=e.$implicit,o=e.$index,r=c();l("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",cn(2,To,i,o))}}function Ro(t,n){t&1&&B(0,Bo,1,5,"ng-template",null,0,un)}function Ho(t,n){if(t&1){let e=K();h(0,"p-togglebutton",2),_("onChange",function(o){let r=q(e),a=r.$implicit,P=r.$index,ye=c();return W(ye.onOptionSelect(o,a,P))}),w(1,Ro,2,0),d()}if(t&2){let e=n.$implicit,i=c();l("autofocus",i.autofocus)("styleClass",i.styleClass)("ngModel",i.isSelected(e))("onLabel",i.getOptionLabel(e))("offLabel",i.getOptionLabel(e))("disabled",i.$disabled()||i.isOptionDisabled(e))("allowEmpty",i.getAllowEmpty())("size",i.size())("fluid",i.fluid()),s(),E(i.itemTemplate||i._itemTemplate?1:-1)}}var jo=`
    ${gi}

    /* For PrimeNG */
    .p-selectbutton.ng-invalid.ng-dirty {
        outline: 1px solid dt('selectbutton.invalid.border.color');
        outline-offset: 0;
    }
`,Go={root:({instance:t})=>["p-selectbutton p-component",{"p-invalid":t.invalid(),"p-selectbutton-fluid":t.fluid()}]},mi=(()=>{class t extends z{name="selectbutton";theme=jo;classes=Go;static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var $o={provide:ce,useExisting:S(()=>Kt),multi:!0},Kt=(()=>{class t extends mt{options;optionLabel;optionValue;optionDisabled;get unselectable(){return this._unselectable}_unselectable=!1;set unselectable(e){this._unselectable=e,this.allowEmpty=!e}tabindex=0;multiple;allowEmpty=!0;styleClass;ariaLabelledBy;dataKey;autofocus;size=p();fluid=p(void 0,{transform:x});onOptionClick=new k;onChange=new k;itemTemplate;_itemTemplate;get equalityKey(){return this.optionValue?null:this.dataKey}value;focusedIndex=0;_componentStyle=m(mi);getAllowEmpty(){return this.multiple?this.allowEmpty||this.value?.length!==1:this.allowEmpty}getOptionLabel(e){return this.optionLabel?Ue(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ue(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?Ue(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}onOptionSelect(e,i,o){if(this.$disabled()||this.isOptionDisabled(i))return;let r=this.isSelected(i);if(r&&this.unselectable)return;let a=this.getOptionValue(i),P;if(this.multiple)r?P=this.value.filter(ye=>!xe(ye,a,this.equalityKey)):P=this.value?[...this.value,a]:[a];else{if(r&&!this.allowEmpty)return;P=r?null:a}this.focusedIndex=o,this.value=P,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:i,index:o})}changeTabIndexes(e,i){let o,r;for(let a=0;a<=this.el.nativeElement.children.length-1;a++)this.el.nativeElement.children[a].getAttribute("tabindex")==="0"&&(o={elem:this.el.nativeElement.children[a],index:a});i==="prev"?o.index===0?r=this.el.nativeElement.children.length-1:r=o.index-1:o.index===this.el.nativeElement.children.length-1?r=0:r=o.index+1,this.focusedIndex=r,this.el.nativeElement.children[r].focus()}onFocus(e,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!xe(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,o=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let r of this.value)if(xe(r,o,this.dataKey)){i=!0;break}}}else i=xe(this.getOptionValue(e),this.value,this.equalityKey);return i}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break}})}writeControlValue(e,i){this.value=e,i(this.value),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=g(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["p-selectButton"],["p-selectbutton"],["p-select-button"]],contentQueries:function(i,o,r){if(i&1&&(Q(r,ko,4),Q(r,ze,4)),i&2){let a;Z(a=Y())&&(o.itemTemplate=a.first),Z(a=Y())&&(o.templates=a)}},hostVars:6,hostBindings:function(i,o){i&2&&(I("role","group")("aria-labelledby",o.ariaLabelledBy)("data-pc-section","root")("data-pc-name","selectbutton"),C(o.cx("root")))},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",x],tabindex:[2,"tabindex","tabindex",Ge],multiple:[2,"multiple","multiple",x],allowEmpty:[2,"allowEmpty","allowEmpty",x],styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",x],size:[1,"size"],fluid:[1,"fluid"]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[M([$o,mi]),f],decls:2,vars:0,consts:[["content",""],[3,"autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size","fluid"],[3,"onChange","autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size","fluid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&Ce(0,Ho,2,10,"p-togglebutton",1,Po,!0),i&2&&De(o.options)},dependencies:[Wt,li,be,zt,H,ue,U],encapsulation:2,changeDetection:0})}return t})();var vt=class t{form=p.required();clearFilters=J();classOptions=this.getClassOptions();levelOptions=this.getLevelOptions();getLevelOptions(){return[0,1,2,3,4,5,6,7,8,9].map(n=>({label:n===0?"Cantrip":`Level ${n}`,value:n}))}getClassOptions(){return["druid","ranger","cleric","paladin","sorcerer","warlock","wizard","artificer","bard"].map(n=>({label:xn(n),value:n}))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-spell-list-filters-dialog"]],inputs:{form:[1,"form"]},outputs:{clearFilters:"clearFilters"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"spell-list-filters-dialog__level-select",3,"formControl","options"],[1,"spell-list-filters-dialog-footer"],["icon","pi pi-times","severity","secondary","label","Clear filters",3,"onClick"]],template:function(e,i){e&1&&(h(0,"form",0)(1,"h3"),u(2,"Classes"),d(),T(3,"p-select-button",1),h(4,"h3"),u(5,"Levels"),d(),T(6,"p-select-button",1),d(),h(7,"div",2)(8,"p-button",3),_("onClick",function(){return i.clearFilters.emit()}),d()()),e&2&&(l("formGroup",i.form()),s(3),l("formControl",i.form().controls.class)("options",i.classOptions),s(3),l("formControl",i.form().controls.level)("options",i.levelOptions))},dependencies:[Kt,ht,ft,be,ct,Te,Pe,fe],styles:[".spell-list-filters-dialog__level-select[_ngcontent-%COMP%]{flex-wrap:wrap}.spell-list-filters-dialog-footer[_ngcontent-%COMP%]{margin-top:24px}"],changeDetection:0})};var zo=["filtersDialogFooter"],_t=class t{fb=m(si);dialogService=m(Mn);destroyRef=m(yt);filtersDialogFooter=fn("filtersDialogFooter");filterValues=p.required();updateFilterValues=J();resetFilters=J();filtersForm=this.fb.nonNullable.group({search:this.fb.nonNullable.control(""),additionalFilters:this.fb.nonNullable.group({level:this.fb.control(null),class:this.fb.control(null)})});constructor(){pn(()=>{this.filtersForm.setValue({search:this.filterValues().search??"",additionalFilters:{level:this.filterValues().level??null,class:this.filterValues().class??null}})}),this.listenToSearchControl(),this.listenToAdditionalFiltersForm()}clearSearch(){this.filtersForm.controls.search.reset()}openFiltersDialog(){let n=this.dialogService.open(vt,{header:"Filters",modal:!0,closable:!0,dismissableMask:!0,style:{maxWidth:"90%"},inputValues:{form:this.filtersForm.controls.additionalFilters},templates:{footer:this.filtersDialogFooter()?.elementRef}});n.onChildComponentLoaded.pipe(nn(n.onClose),$e(this.destroyRef),en()).pipe(tn(i=>vn(i.clearFilters))).subscribe(()=>this.resetFilters.emit())}listenToSearchControl(){this.filtersForm.controls.search.valueChanges.pipe(Jt(300),bt(),$e()).subscribe(n=>this.updateFilterValues.emit(N(F({},this.filterValues()),{search:n})))}listenToAdditionalFiltersForm(){this.filtersForm.controls.additionalFilters.valueChanges.pipe(bt(Fn),$e()).subscribe(n=>this.updateFilterValues.emit(N(F({},this.filterValues()),{level:n.level,class:n.class})))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-spell-list-controls"]],viewQuery:function(e,i){e&1&&rn(i.filtersDialogFooter,zo,5),e&2&&an()},inputs:{filterValues:[1,"filterValues"]},outputs:{updateFilterValues:"updateFilterValues",resetFilters:"resetFilters"},decls:7,vars:2,consts:[[1,"spell-list-controls__form",3,"formGroup"],["icon","pi pi-filter-fill","aria-label","Filter","severity","secondary",3,"onClick"],["variant","in",1,"spell-list-controls__search-wrapper"],["pInputText","","fluid","","variant","filled","pSize","small","id","spell-list-filter-search",3,"formControl"],["for","spell-list-filter-search"],["icon","pi pi-times","aria-label","Clear search","severity","secondary","outlined","",3,"onClick"]],template:function(e,i){e&1&&(h(0,"form",0)(1,"p-button",1),_("onClick",function(){return i.openFiltersDialog()}),d(),h(2,"p-floatlabel",2),T(3,"input",3),h(4,"label",4),u(5,"Search"),d()(),h(6,"p-button",5),_("onClick",function(){return i.clearSearch()}),d()()),e&2&&(l("formGroup",i.filtersForm),s(3),l("formControl",i.filtersForm.controls.search))},dependencies:[Pn,ui,ht,ft,dt,be,ct,Te,Pe,fe],styles:["[_nghost-%COMP%]{display:flex}.spell-list-controls__form[_ngcontent-%COMP%]{flex:1 1 0;display:flex;align-items:center}.spell-list-controls__search-wrapper[_ngcontent-%COMP%]{flex:1 1 0}"],changeDetection:0})};function qo(t,n){if(t&1){let e=K();h(0,"dnd-spell-list",7),_("spellClick",function(o){q(e);let r=c();return W(r.onAddSpell(o))}),d()}if(t&2){let e=c();l("spells",e.spellList())("language",e.locale())}}function Wo(t,n){t&1&&u(0," No spells available ")}function Ko(t,n){if(t&1){let e=K();h(0,"dnd-spell-list",7),_("spellClick",function(o){q(e);let r=c();return W(r.onRemoveSpell(o))}),d()}if(t&2){let e=c();l("spells",e.selectedSpells())("language",e.locale())}}function Qo(t,n){t&1&&u(0," No spells added yet ")}var vi=class t{store$=m(_n);spellList=this.store$.selectSignal(Fe.selectSpellList);selectedSpells=this.store$.selectSignal(Fe.selectSelectedSpells);filterValues=this.store$.selectSignal(Fe.selectFilterValues);locale=this.store$.selectSignal(Fe.selectLocale);ngOnInit(){this.store$.dispatch(te.spellListInit()),this.store$.dispatch(te.fetchSpellList({useCache:!1}))}ngOnDestroy(){this.store$.dispatch(te.spellListReset())}onAddSpell(n){this.store$.dispatch(te.addSelectedSpell({spell:n}))}onRemoveSpell(n){this.store$.dispatch(te.removeSelectedSpell({spell:n}))}onLanguageChange(n){this.store$.dispatch(te.setLocale({locale:n}))}updateFilterValues(n){this.store$.dispatch(te.updateFilterValues({filterValues:n}))}resetFilters(){this.store$.dispatch(te.resetFilters())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["dnd-spell-list-page"]],decls:12,vars:4,consts:[[1,"spell-list-page__layout"],[1,"spell-list-page__column","spell-list-page__column--primary"],[1,"spell-list-page__controls",3,"updateFilterValues","resetFilters","filterValues"],[3,"spells","language"],[1,"spell-list-page__column","spell-list-page__column--secondary"],[1,"spell-list-page__header"],[3,"languageChange","currentLanguage"],[3,"spellClick","spells","language"]],template:function(e,i){e&1&&(h(0,"div",0)(1,"div",1)(2,"dnd-spell-list-controls",2),_("updateFilterValues",function(r){return i.updateFilterValues(r)})("resetFilters",function(){return i.resetFilters()}),d(),w(3,qo,1,2,"dnd-spell-list",3)(4,Wo,1,0),d(),h(5,"div",4)(6,"div",5)(7,"h2"),u(8,"My spells"),d(),h(9,"dnd-language-switch",6),_("languageChange",function(r){return i.onLanguageChange(r)}),d()(),w(10,Ko,1,2,"dnd-spell-list",3)(11,Qo,1,0),d()()),e&2&&(s(2),l("filterValues",i.filterValues()),s(),E(i.spellList().length?3:4),s(6),l("currentLanguage",i.locale()),s(),E(i.selectedSpells().length?10:11))},dependencies:[Xe,Qe,_t],styles:[".spell-list-page__layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;gap:16px}@media (max-width: 768px){.spell-list-page__layout[_ngcontent-%COMP%]{flex-direction:column}}.spell-list-page__column[_ngcontent-%COMP%]{flex:1 1 0}.spell-list-page__column--primary[_ngcontent-%COMP%]{border-right:1px solid var(--p-zinc-400);padding-right:16px}@media (max-width: 768px){.spell-list-page__column--primary[_ngcontent-%COMP%]{border-right:none;padding-right:0}}@media (max-width: 768px){.spell-list-page__column--secondary[_ngcontent-%COMP%]{order:-1}}.spell-list-page__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px}.spell-list-page__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.spell-list-page__controls[_ngcontent-%COMP%]{margin-bottom:16px;width:100%}"],changeDetection:0})};export{vi as SpellListPageComponent};
